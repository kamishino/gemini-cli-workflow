# AGENTS.md

<!-- AGK_MANAGED_FILE -->

> Generated by `agk agents render`.
> Target profile: `{{TARGET_PROFILE}}`
> Model profile: `{{MODEL_PROFILE}}`

## Agent Registry

{{AGENT_REGISTRY_BLOCK}}

## Repository Snapshot

- Monorepo manager: `pnpm` workspace.
- Main packages: `kamiflow-cli`, `antigravity-kit`, `sync-backend`.
- Default runtime: Node.js `>=16` (sync backend requires `>=18`).

## Build, Lint, and Test Quick Commands

```bash
pnpm install
pnpm build
pnpm lint
pnpm test
pnpm --filter gemini-cli-kamiflow run test -- tests/logic/config-manager.test.js
pnpm --filter @kamishino/antigravity-kit exec node --test test/suite.test.js
```

## Code Style Baseline

- Use CommonJS (`require`, `module.exports`) for source files.
- Keep imports at top-level unless lazy loading is intentional.
- Formatting: 2 spaces, double quotes, semicolons.
- Validate external input with schemas/sanitizers (`zod` where appropriate).
- Naming: `kebab-case.js` files, `camelCase` functions, `PascalCase` classes.
- Error handling: actionable messages, avoid silent failures.
- Testing: add/update tests for behavior changes; prefer deterministic tests.

## Target-Aware Instructions

{{TARGET_SECTION}}

## Model-Aware Instructions

{{MODEL_SECTION}}

## Regeneration

- Re-render managed file: `agk agents render --target {{TARGET_PROFILE}} --model-profile {{MODEL_PROFILE}} --force`
- Refresh only agent registry: `agk agents`
